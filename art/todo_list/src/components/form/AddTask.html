<script>
    import { createEventDispatcher } from 'svelte';
    
    import Categories from './Categories.html'

    const dispatch = createEventDispatcher();

    let search = "";
    let category = "Home"
    

    function submitText() {
       
        dispatch('submit', {
            
            wesh: search,
            cate: category,
            date: new Date()
        
        });
        
        search = "";
    }

    const newCategory = (event) => {
       
        category = event.detail.selectCategory.name
    
    }

</script>

<style>
    
    #navbar{
		height: 18vh;
		background-color: #1B9AAA;
	}

	h1{
		color: #DDDBCB;
		font-size: 3em;
	}

</style>

<!-- fin du script -->

<div id="navbar" class="flex flex-col justify-center items-center">
    <h1>Add a new task</h1>
    <ul>
        <li>1 ** Choose your category **</li>
        <li>2 ** What do you want to do **</li>
    </ul>
</div>

<div class="flex justify-center mt-8 mb-10">
    <div class="w-4/5" id="addTask">
        <Categories on:addCategory={newCategory}/>
        <br>
        <input class="w-full h-12 mt-2" type="text" bind:value={search} placeholder="Add a task">
        <br>
        <button class="w-full h-10 bg-green-300 hover:bg-green-200 rounded-lg mt-10 shadow-2xl"  on:click|preventDefault={submitText}>Add a task</button>
    </div>
</div>